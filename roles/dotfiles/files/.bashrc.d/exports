
## EXPORTS

# Bash Variables.
#   - https://www.gnu.org/software/bash/manual/html_node/Bash-Variables.html

OS=$(uname)
case $OS in
    "Darwin"*)
        # Prevent brew from sending analytics
        export HOMEBREW_NO_ANALYTICS=1

        # Prevent brew from updating on other commands (install, info, etc)
        export HOMEBREW_NO_AUTO_UPDATE=1
        ;;
    *)
        ;;
esac

# Set US English and UTF-8 encoding
export LANG="en_US"
export LC_ALL="en_US.UTF-8"

# Use vim when bash needs an editor
export EDITOR="vim -v"

# Deduplicate bash commands history
export HISTCONTROL=ignoredups:erasedups

# Do not add these to history
export HISTIGNORE=ls:ll:la:l:cd:pwd:exit:mc:su:df:clear:history:exit:q:pwd

# The size of the history file
export HISTFILESIZE=20000

# The size of the run-time history list
export HISTSIZE=1000

# Bash eternal history
# --------------------
#
# From: https://github.com/startup-class/dotfiles/blob/master/.bashrc
#
# This snippet allows infinite recording of every command you've ever
# entered on the machine, without using a large HISTFILESIZE variable,
# and keeps track if you have multiple screens and ssh sessions into the
# same machine. It is adapted from:
# http://www.debian-administration.org/articles/543.
#
# The way it works is that after each command is executed and
# before a prompt is displayed, a line with the last command (and
# some metadata) is appended to ~/.bash_eternal_history.
#
# This file is a tab-delimited, timestamped file, with the following
# columns:
#
# 1) user
# 2) hostname
# 3) screen window (in case you are using GNU screen)
# 4) date/time
# 5) current working directory (to see where a command was executed)
# 6) the last command you executed
#
# The only minor bug: if you include a literal newline or tab (e.g. with
# awk -F"\t"), then that will be included verbatime. It is possible to
# define a bash function which escapes the string before writing it; if you
# have a fix for that which doesn't slow the command down, please submit
# a patch or pull request.
PROMPT_COMMAND="${PROMPT_COMMAND:+$PROMPT_COMMAND ; }"'echo -e $$\\t$USER\\t$HOSTNAME\\tscreen $WINDOW\\t`date +%D%t%T%t%Y%t%s`\\t$PWD"$(history 1)" >> ~/.bash_eternal_history'

# Color man pages
#   - http://unix.stackexchange.com/questions/119/colors-in-man-pages/147#147
export LESS_TERMCAP_mb=$(tput bold; tput setaf 6) # cyan
export LESS_TERMCAP_md=$(tput bold; tput setaf 2) # green
export LESS_TERMCAP_me=$(tput sgr0)
export LESS_TERMCAP_so=$(tput bold; tput setaf 3; tput setab 4) # yellow on blue
export LESS_TERMCAP_se=$(tput rmso; tput sgr0)
export LESS_TERMCAP_us=$(tput smul; tput bold; tput setaf 7) # white
export LESS_TERMCAP_ue=$(tput rmul; tput sgr0)
export LESS_TERMCAP_mr=$(tput rev)
export LESS_TERMCAP_mh=$(tput dim)
export LESS_TERMCAP_ZN=$(tput ssubm)
export LESS_TERMCAP_ZV=$(tput rsubm)
export LESS_TERMCAP_ZO=$(tput ssupm)
export LESS_TERMCAP_ZW=$(tput rsupm)

# vi: ft=sh :
